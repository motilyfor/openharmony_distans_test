"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignApp=void 0;const ohos_app_task_js_1=require("./task/ohos-app-task.js"),sign_util_js_1=require("./sign/sign-util.js"),path_1=__importDefault(require("path")),package_app_js_1=require("./package-app.js"),task_names_js_1=require("./common/task-names.js"),sign_type_enum_js_1=require("../enum/sign-type-enum.js");class SignApp extends ohos_app_task_js_1.OhosAppTask{constructor(e,s){super(e,s,task_names_js_1.TaskNames.CommonTask.SIGN_APP)}doTaskAction(){const e=this.service.getPathInfo(),s=this.service.getAppOutputFileName(),t=path_1.default.resolve(e.getProjectOutputPath(),s),p=path_1.default.resolve(e.getProjectOutputPath(),this.service.getAppOutputFileName(!0));new sign_util_js_1.SignUtil(this.service,sign_type_enum_js_1.SignTypeEnum.APP,this.service.getTargetProduct()).sign(t,p)}initTaskDepends(){this.project.registryDependsOnTask(this,new package_app_js_1.PackageApp(this.project,this.service))}}exports.SignApp=SignApp;