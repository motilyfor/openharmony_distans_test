"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HosSdkInfo=void 0;const property_get_js_1=require("./lib/property-get.js"),scan_local_sdk_js_1=require("./scan-local-sdk.js"),sdkmanager_common_1=require("@ohos/sdkmanager-common"),sdk_toolchains_component_js_1=require("./impl/sdk-toolchains-component.js"),sdk_java_component_js_1=require("./impl/sdk-java-component.js"),ohos_logger_js_1=require("../utils/log/ohos-logger.js");class HosSdkInfo{constructor(o){this._log=ohos_logger_js_1.OhosLogger.getLogger(HosSdkInfo.name),this._sdkVersion=o;const t=property_get_js_1.Property.getInstance().getHosSdkDir(),n=scan_local_sdk_js_1.scanHosLocalSdkInst.setSdKBaseDir(t).getLocalSdkComponents(),e=null==n?void 0:n.get(new sdkmanager_common_1.PathAndApiVersion(sdkmanager_common_1.ComponentPath.TOOLCHAINS,o));void 0===e?this._log._buildError(`Can not find the HarmonyOS API${this._sdkVersion} in hwsdk.dir.`)._solution(`Please ensure API${this._sdkVersion} has been released and download it. Open HarmonyOS SDK Manager`)._file(t)._printErrorAndExit():this.initComponents(e)}static getInstance(o){const t=this.infoMap.get(o);if(t)return t;const n=new HosSdkInfo(o);return this.infoMap.set(o,n),n}getAbilityShellJar(){return this.javaComponent?this.javaComponent.getAbilityShellJarPath():""}getAceJar(){return this.javaComponent?this.javaComponent.getAceJarPath():""}getApkSignerJar(){return this.toolchainsComponent?this.toolchainsComponent.getApkSignerJarPath():""}getAJar(){return this.toolchainsComponent?this.toolchainsComponent.getAJarPath():""}getD8Jar(){return this.toolchainsComponent?this.toolchainsComponent.getD8JarPath():""}getAapt2Tool(){return this.toolchainsComponent?this.toolchainsComponent.getAapt2ToolPath():""}getOhosJar(){return this.javaComponent?this.javaComponent.getOhosJarPath():""}getHapSignToolV2(){return this.toolchainsComponent?this.toolchainsComponent.getHapSignToolV2():""}getResTool(){return this.javaComponent?this.javaComponent.getRestoolPath():""}getRichSchema(){return this.toolchainsComponent?this.toolchainsComponent.getRichSchema():""}getLiteSchema(){return this.toolchainsComponent?this.toolchainsComponent.getLiteSchema():""}initComponents(o){this.javaComponent=new sdk_java_component_js_1.SdkJavaComponent(o.getLocation()),this.toolchainsComponent=new sdk_toolchains_component_js_1.HosSdkToolchainsComponent(o.getLocation())}}exports.HosSdkInfo=HosSdkInfo,HosSdkInfo.infoMap=new Map;